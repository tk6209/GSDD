#!/usr/bin/env bash
set -euo pipefail

cmd="${1:-help}"

print_help() {
  cat << 'DOC'
ðŸ›¡ï¸  GSDD CLI (bootstrap)

Commands:
  gsdd verify     Validate a SPEC file against the SPEC contract (structure-only)
  gsdd snapshot   Create a snapshot artifact (placeholder in bootstrap)
  gsdd audit      Verify outcome against SPEC (placeholder in bootstrap)
  gsdd help       Show this help

Rules:
- The CLI never auto-fixes.
- The CLI never auto-heals.
- The CLI never mutates a SPEC.
- The CLI only verifies, blocks, and records.

DOC
}

case "$cmd" in
  help|-h|--help)
    print_help
    ;;
  verify)
    echo "ðŸ” verify: TODO (bootstrap) â€” implement SPEC parsing + contract checks"
    echo "Hint: require explicit fields: scope, objective, inputs, constraints, expected_outcome"
    ;;
  snapshot)
    echo "ðŸ“¸ snapshot: TODO (bootstrap) â€” implement immutable snapshot + hash + metadata"
    ;;
  audit)
    echo "ðŸ§ª audit: TODO (bootstrap) â€” implement outcome verification against SPEC"
    ;;
  *)
    echo "âŒ Unknown command: $cmd"
    print_help
    exit 1
    ;;
esac
